# 开发环境搭建
## make 一键构建开发环境
``` shell
make dev-setup
```
---

## 手动搭建
### 中间件
- 中间件采用官方的 docker compose 启动
``` shell
cd docker
cp middleware.env.example middleware.env
docker compose -p dify-middleware -f docker-compose.middleware.yaml up -d
```
如果碰到报错：
```
[+] Running 0/2
 ⠋ weaviate Pulling                                                                                                                                                                               0.0s 
 ⠋ plugin_daemon Pulling                                                                                                                                                                          0.0s 
error getting credentials - err: exec: "docker-credential-desktop": executable file not found in $PATH, out: ``
```
解决方案：
临时将 ~/.docker/config.json 重命名，待下载完毕后，再恢复该文件即可：
``` shell
mv ~/.docker/config.json ~/.docker/config.json-bak
```
## api
- 采用源码启动
``` shell
uv run flask run --host 0.0.0.0 --port 5001 --debug
```

## web
- 采用源码启动
``` shell
pnpm run dev
```